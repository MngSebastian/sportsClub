(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,a){e.exports=a(86)},53:function(e,t,a){},54:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(22),r=a.n(l),i=(a(53),a(5)),o=a(4),c=a(7),m=a(6),u=a(8),p=a(19),h=(a(54),a(15)),v=a.n(h),d=a(12),E=(a(71),a(2)),b=(a(72),a(10));a(23);b.a.configure();var f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",message:"",redirect:!1},a.notifySuccess=function(){b.a.success("Successfull login",{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.notifyErr=function(){b.a.error(a.state.message,{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),v.a.post("/auth/login",{username:a.state.username,password:a.state.password}).then((function(e){a.props.setUser(e.data),a.props.history.push("/"),a.props.popupBoolean(),a.notifySuccess()})).catch((function(e){a.setState({message:e.response.data.message}),a.notifyErr()}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"PopUp"},s.a.createElement("div",{className:"PopUpInside"},s.a.createElement("div",{className:"headingDiv"},s.a.createElement("h1",{className:"heading"},"Login")),s.a.createElement("div",{className:"form"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"username"}),s.a.createElement("input",{className:"inputFields",type:"text",autoComplete:"off",placeholder:"Username",id:"username",name:"username",value:this.state.username,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"password"}),s.a.createElement("input",{className:"inputFields",type:"password",placeholder:"Password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("button",{className:"formBtn",type:"submit"},"Login")))))}}]),t}(n.Component),g=Object(p.e)(f);b.a.configure();var O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",message:""},a.notifySuccess=function(){b.a.success("Successfull signeup",{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.notifyErr=function(){b.a.error(a.state.message,{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),v.a.post("/auth/signup",{username:a.state.username,password:a.state.password}).then((function(e){a.props.setUser(e.data),a.notifySuccess()})).catch((function(e){a.setState({message:e.response.data.message}),a.notifyErr()}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"PopUp"},s.a.createElement("div",{className:"PopUpInside"},s.a.createElement("div",{className:"headingDiv"},s.a.createElement("h1",{className:"heading"},"SignUp")),s.a.createElement("div",{className:"form"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"username"}," "),s.a.createElement("input",{type:"text",placeholder:"Username",className:"inputFields",id:"username",name:"username",value:this.state.username,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"password"}),s.a.createElement("input",{type:"password",className:"inputFields",placeholder:"Password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("button",{className:"formBtn",type:"submit"},"Sign up"))))))}}]),t}(n.Component);b.a.configure();var N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={PopUpLogin:!1,PopUpSignup:!1},a.notifyLogout=function(){b.a.success("Successfull logout",{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.logout=function(){v.a.delete("/auth/logout").then((function(){a.props.setUser(null),a.notifyLogout()}))},a.onClickPopUpLogin=function(){a.setState({PopUpLogin:!a.state.PopUpLogin})},a.onClickPopUpSignup=function(){a.setState({PopUpSignup:!a.state.PopUpSignup})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.props.user?s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{className:"login-register"},s.a.createElement(d.b,{to:"/",className:"navbarItems"},"sportsClub")),s.a.createElement("div",{className:"login-register"},s.a.createElement(d.b,{className:"navbarItems"},this.props.user.username),s.a.createElement(d.b,{onClick:this.logout,to:"/",className:"navbarItems"},"Logout")))):s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{className:"login-register"},s.a.createElement(d.b,{to:"/",className:"navbarItems"},"sportsClub")),s.a.createElement("div",{className:"login-register"},s.a.createElement(d.b,{onClick:function(){return e.onClickPopUpLogin()},className:"navbarItems"},"Login"),s.a.createElement(d.b,{onClick:function(){return e.onClickPopUpSignup()},className:"navbarItems"},"Signup"))),this.state.PopUpLogin?s.a.createElement(g,{popupBoolean:this.onClickPopUpLogin,setUser:this.props.setUser}):"",this.state.PopUpSignup?s.a.createElement(O,{setUser:this.props.setUser}):"")}}]),t}(s.a.Component),C=(a(77),function(e){return s.a.createElement("div",{className:"footer"},s.a.createElement(d.b,{className:"footerItems"},"Powered by: Stjepan & Sebastian"))}),y=(a(78),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"homePage"},s.a.createElement("div",{className:"mainPage"},s.a.createElement("div",{className:"mainPageInfo"},s.a.createElement("h3",{className:"mainHeading"},"Play sports.",s.a.createElement("br",null)," Make friends."),s.a.createElement("hr",{className:"line"}),s.a.createElement(d.b,{to:"/sports",className:"mainPageBtn"},"Start playing")))))}}]),t}(n.Component)),j=a(32),k=(a(79),a(80),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"formMarkus"},s.a.createElement("button",{className:"circle plus"}))}}]),t}(n.Component));a(81);b.a.configure();var S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={nameOfEvent:"",description:"",eventTime:Date.now,message:""},a.notifySuccess=function(){b.a.success("Event created",{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.handleRadio=function(e){"football"===e.target.value?a.setState({basketball:!1,football:!0,tennis:!1}):"basketball"===e.target.value?a.setState({basketball:!0,football:!1,tennis:!1}):"tennis"===e.target.value&&a.setState({basketball:!1,football:!1,tennis:!0})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),v.a.post("/sports/event/add",{location:a.state.location,description:a.state.description,eventTime:a.state.eventTime,nameOfEvent:a.state.nameOfEvent}).then((function(e){a.props.history.push("/sports"),a.props.popupBoolean(),a.notifySuccess(),a.props.updateEventList()})).catch((function(e){a.setState({message:e})}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[];return t=this.props.locationData.filter((function(t){return e.state.basketball&&"basketball"===t.sportType||e.state.tennis&&"tennis"===t.sportType||e.state.football&&"football"===t.sportType})),s.a.createElement("div",{className:"PopUp"},s.a.createElement("div",{className:"PopUpInside"},s.a.createElement("div",{className:"headingDiv"},s.a.createElement("h1",{className:"heading"},"Create Event")),s.a.createElement("div",{className:"form"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"nameOfEvent"}),s.a.createElement("input",{className:"inputField",type:"text",placeholder:"Name Of Event",name:"nameOfEvent",id:"nameOfEvent",value:this.state.nameOfEvent,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("input",{className:"inputField",type:"text",placeholder:"Description",name:"description",id:"description",value:this.state.description,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("input",{type:"datetime-local",className:"inputField",placeholder:"Event Time",name:"eventTime",id:"eventTime",value:this.state.eventTime,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"location"},"Choose a location: "),s.a.createElement("select",{name:"location",onChange:this.handleChange,id:"location",value:this.state.location},t.map((function(e){return s.a.createElement("option",{value:e.name},e.name[0].toUpperCase(),e.name.substring(1))}))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"football"},"Football"),s.a.createElement("input",{onClick:this.handleRadio,type:"radio",id:"football",name:"event",value:"football"}),s.a.createElement("label",{htmlFor:"basketball"},"Basketball"),s.a.createElement("input",{onClick:this.handleRadio,type:"radio",id:"basketball",name:"event",value:"basketball"}),s.a.createElement("label",{htmlFor:"tennis"},"Tennis"),s.a.createElement("input",{onClick:this.handleRadio,type:"radio",id:"tennis",name:"event",value:"tennis"})),s.a.createElement("br",null),s.a.createElement("button",{className:"formBtnEvent",type:"submit"},"Create")))))}}]),t}(n.Component),P=Object(p.e)(S),w=(a(82),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"sportsNavbar"},s.a.createElement("div",{onClick:this.props.popupBoolean,className:"sportsNavbarItem"},s.a.createElement("button",null,"Events")),s.a.createElement("div",{className:"vl"}),s.a.createElement("div",{onClick:this.props.handleOnClickSportsFilter,className:"sportsNavbarItem"},s.a.createElement("button",{name:"football"},"Football")),s.a.createElement("div",{className:"vl"}),s.a.createElement("div",{onClick:this.props.handleOnClickSportsFilter,className:"sportsNavbarItem"},s.a.createElement("button",{name:"basketball"},"Basketball")),s.a.createElement("div",{className:"vl"}),s.a.createElement("div",{onClick:this.props.handleOnClickSportsFilter,className:"sportsNavbarItem"},s.a.createElement("button",{name:"tennis"},"Tennis")))}}]),t}(n.Component)),D=(a(83),a(27)),U=a.n(D),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.eventData.map((function(t){var a=t.eventTime,n=U()(a).fromNow();return s.a.createElement("div",{onClick:function(){e.props.passEventDetails(t)},key:t._id,className:"test555"},s.a.createElement("div",{className:"Name"},s.a.createElement("div",null,t.nameOfEvent)),s.a.createElement("div",{className:"Description"},s.a.createElement("div",null,t.description)),s.a.createElement("div",{className:"Time"},s.a.createElement("div",null,n)))}));return s.a.createElement("div",{className:"events"},t)}}]),t}(n.Component),I=(a(85),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.eventDetails.eventTime,a=U()(t).fromNow(),n=this.props.eventDetails.usersJoining.map((function(e){return s.a.createElement("div",{className:"user"},e.username)}));return console.log(this.props.eventDetails),s.a.createElement("div",null,s.a.createElement("div",{className:"eventDetails"},s.a.createElement("div",{className:"header"},s.a.createElement("p",null,this.props.eventDetails.nameOfEvent)),s.a.createElement("div",null,s.a.createElement("div",{className:"usersJoining"},s.a.createElement("div",{className:"heading1"},s.a.createElement("p",null,"People Joining")),s.a.createElement("div",{className:"scrollDiv"},s.a.createElement("div",{className:""},s.a.createElement("p",null,n)))),s.a.createElement("div",{className:"EventInfo"},s.a.createElement("div",{className:"location"},s.a.createElement("p",null,"Location:",s.a.createElement("br",null),this.props.eventDetails.location)),s.a.createElement("div",{className:"info description"},s.a.createElement("p",null," ","Description:",s.a.createElement("br",null)," ",this.props.eventDetails.description),s.a.createElement("p",null,"Organizer: ",s.a.createElement("br",null),this.props.eventDetails.creator.username)),s.a.createElement("div",{className:"info time"},a)),s.a.createElement("div",{className:"asd"},s.a.createElement("div",{className:"BtnDiv"},s.a.createElement("div",{className:"spaceForHover"},s.a.createElement("button",{onClick:this.props.joinEvent,className:"btn"},"Join")),s.a.createElement("div",{className:"spaceForHover"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.clearEventDetails()}},"Go Back")))))))}}]),t}(n.Component)),F={fill:"#e67e22",stroke:"none"},L=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.size,t=void 0===e?20:e;return(s.a.createElement("svg",{height:t,viewBox:"0 0 24 24",style:F},s.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})))}}]),t}(n.Component);b.a.configure();var B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={viewport:{longitude:13.4,latitude:52.52,zoom:10,bearing:0,pitch:0},locations:[],events:[],filteredSports:[],addLocPopup:!1,seeEventsList:!0,seeEventDetails:null,basketball:!0,football:!0,tennis:!0},a.notifySuccess=function(){b.a.success("You joined this event",{position:b.a.POSITION.TOP_CENTER,autoClose:3e3,hideProgressBar:!0})},a.passEventDetails=function(e){a.setState({seeEventDetails:e})},a.clearEventDetails=function(){a.setState({seeEventDetails:null})},a.joinEvent=function(){v.a.post("/sports/event/join",{id:a.state.seeEventDetails._id}).then((function(e){a.notifySuccess()}))},a.getData=function(){v.a.get("/sports/all").then((function(e){a.setState({locations:e.data.locations,events:e.data.events})}))},a.onClickPopUp=function(){a.setState({addLocPopup:!a.state.addLocPopup})},a.onClickEvents=function(){a.setState({seeEventsList:!a.state.seeEventsList})},a.handleOnClickSportsFilter=function(e){e.preventDefault(),a.setState(Object(E.a)({},e.target.name,!a.state[e.target.name]))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=[];return this.state.locations.length>0&&(t=this.state.locations.filter((function(t){return"tennis"===t.sportType&&e.state.tennis||"basketball"===t.sportType&&e.state.basketball||"football"===t.sportType&&e.state.football}))),s.a.createElement(s.a.Fragment,null,s.a.createElement(j.b,Object.assign({},this.state.viewport,{width:"100%",height:"100vh",mapStyle:"mapbox://styles/mapbox/dark-v9",onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"pk.eyJ1Ijoic3RpZmFtYWpzdG9yIiwiYSI6ImNrNmt4dm5wYTA1ZnQzbmxpNWd3N2F1Y3kifQ.G19vSaN3Jp--2ruqN8L_bQ"}),t.map((function(e){return s.a.createElement(j.a,{longitude:e.coordinates[1],latitude:e.coordinates[0]},s.a.createElement(L,null))}))),s.a.createElement("div",{onClick:function(){return e.onClickPopUp()}},s.a.createElement(k,null)),s.a.createElement("div",null,s.a.createElement(w,{popupBoolean:this.onClickEvents,handleOnClickSportsFilter:this.handleOnClickSportsFilter})),s.a.createElement("div",null,this.state.seeEventDetails?s.a.createElement(I,{clearEventDetails:this.clearEventDetails,eventDetails:this.state.seeEventDetails,joinEvent:this.joinEvent}):""),s.a.createElement("div",null,this.state.seeEventsList?s.a.createElement(T,{passEventDetails:this.passEventDetails,setUser:this.props.setUser,eventData:this.state.events}):"",this.state.addLocPopup?s.a.createElement(P,{updateEventList:this.getData,popupBoolean:this.onClickPopUp,locationData:this.state.locations}):""))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"MAP"},s.a.createElement(B,{setUser:this.props.setUser,user:this.props.user}))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"testt"},s.a.createElement(N,{setUser:this.setUser,user:this.state.user}),s.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return s.a.createElement(y,null)}}),s.a.createElement(p.a,{exact:!0,path:"/sports",render:function(t){return s.a.createElement(x,{setUser:e.setUser,user:e.state.user})}}),s.a.createElement(C,null))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.get("/auth/loggedin").then((function(e){r.a.render(s.a.createElement(d.a,null,s.a.createElement(A,{user:e.data})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.17640de5.chunk.js.map